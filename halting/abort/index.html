<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="http://www.bsplib.eu/halting/abort/">
        <link rel="shortcut icon" href="../../img/favicon.ico">

	<title>Abort Program - Zefiros-BSPLib</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../css/base.css" rel="stylesheet">
        <link href="../../style/docs.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-29999374-2', 'www.bsplib.eu');
            ga('send', 'pageview');
        </script>
        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container-fluid">
    <a class="navbar-img" href="../.."><img src="../../style/logo.png" /></a>
        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
            
            
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Program <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Logic</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../logic/execute/">Execute BSP Kernel</a>
</li>

        
            
<li >
    <a href="../../logic/init/">Init BSP Kernel</a>
</li>

        
            
<li >
    <a href="../../logic/begin/">Begin BSP Kernel</a>
</li>

        
            
<li >
    <a href="../../logic/end/">End BSP Kernel</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Halting</a>
    <ul class="dropdown-menu">
        
            
<li class="active">
    <a href="./">Abort Program</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Util</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../util/nprocs/">Processor Count</a>
</li>

        
            
<li >
    <a href="../../util/procid/">Processor Identifier</a>
</li>

        
            
<li >
    <a href="../../util/time/">Wall Time</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
            
            
            
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">(De)registration <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../regdereg/push/">Push Register</a>
</li>

                        
                            
<li >
    <a href="../../regdereg/pop/">Pop Register</a>
</li>

                        
                        </ul>
                    </li>
                
            
            
            
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Communication <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Get Register</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../com/get/">Normal</a>
</li>

        
            
<li >
    <a href="../../com/getPrimitive/">Primitives</a>
</li>

        
            
<li >
    <a href="../../com/getPtrs/">Pointers</a>
</li>

        
            
<li >
    <a href="../../com/getContainer/">Containers</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Put Register</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../com/put/">Normal</a>
</li>

        
            
<li >
    <a href="../../com/putPrimitive/">Primitives</a>
</li>

        
            
<li >
    <a href="../../com/putPtrs/">Pointers</a>
</li>

        
            
<li >
    <a href="../../com/putContainer/">Containers</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Sync Point</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../sync/sync/">Synchronising</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
            
            
            
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Messaging <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Send Memory</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../messaging/send/">Normal</a>
</li>

        
            
<li >
    <a href="../../messaging/sendPrimitive/">Primitives</a>
</li>

        
            
<li >
    <a href="../../messaging/sendIterator/">Iterators</a>
</li>

        
            
<li >
    <a href="../../messaging/sendContainer/">Containers</a>
</li>

        
            
<li >
    <a href="../../messaging/sendPtrs/">Pointers - Primitives</a>
</li>

        
            
<li >
    <a href="../../messaging/sendTagContainer/">Pointers - Containers</a>
</li>

        
    </ul>
  </li>

                        
                            
<li >
    <a href="../../messaging/move/">Move Memory</a>
</li>

                        
                            
<li >
    <a href="../../messaging/qsize/">Get Queue Size</a>
</li>

                        
                        </ul>
                    </li>
                
            
            
            
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Utilities <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../messagingutil/gettag/">Get Tag</a>
</li>

                        
                            
<li >
    <a href="../../messagingutil/settagsize/">Set Tag Size</a>
</li>

                        
                        </ul>
                    </li>
                
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                <li>
                    <a href="https://github.com/Zefiros-Software/BSPLib">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#interfaces">Interfaces</a></li>
        
    
        <li class="main "><a href="#parameters">Parameters</a></li>
        
    
        <li class="main "><a href="#post-conditions">Post-Conditions</a></li>
        
    
        <li class="main "><a href="#examples">Examples</a></li>
        
            <li><a href="#1_classic">(1) Classic</a></li>
        
            <li><a href="#2_bsp">(2) BSP</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="interfaces">Interfaces<a class="headerlink" href="#interfaces" title="Permanent link">&para;</a></h1>
<pre><code class="cpp">void BSPLib::Classic::Abort( const char *errorMessage, ... )           // (1) Classic
void bsp_abort( const char *errorMessage, ... )                        // (2) BSP
void BSPLib::VAbort( const char *errorMessage, va_list args )          // (3) Modern va_list
void bsp_vabort( const char *errorMessage, va_list args )              // (4) BSP va_list
</code></pre>

<p>Aborts the BSP program with the given error message. The formatting used is the same as in
fprintf. If more than one processors calls <a href="./"><code>BSPLib::Abort()</code></a>, then
all processors may print the abort message, and not just one. </p>
<p>The thread that aborts prints the message to <code>stderr</code>.
Instead of terminating the whole program, it just terminates
the computation, and thus you are able to continue or restart
the program. When you use <a href="../../logic/execute/"><code>BSPLib::Execute()</code></a>
you can query whether the program was aborted or not. When  <a href="../../logic/execute/"><code>BSPLib::Execute()</code></a>
is not used, the main thread may throw an exception.</p>
<p>If <a href="../../logic/init/"><code>BSPLib::Init()</code></a> is called after an abort, it will determine whether all threads have actually 
aborted. If not, it will notify the waiting threads about the abort. If even this fails, the entire program will terminate.</p>
<ol>
<li>Classic BSP function, this is the interface one should prefer to use over the old BSP interface.</li>
<li>Legacy BSP function, this interface is included for backwards compatibility with other BSP libraries.</li>
<li>Classic BSP function that takes a <code>va_list</code> directly.</li>
<li>Legacy BSP function that takes a <code>va_list</code> directly.</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Warnings</p>
<p>The termination behaviour is different in BSPLib differs from that in other BSP libraries.</p>
</div>
<div class="admonition danger">
<p class="admonition-title">Deprication</p>
<p>This function has been depricated and should be avoided.</p>
</div>
<h1 id="parameters">Parameters<a class="headerlink" href="#parameters" title="Permanent link">&para;</a></h1>
<ul>
<li><code>format</code> Describes the message to format.</li>
<li><code>...</code>    Variable arguments providing message formatting.</li>
<li><code>args</code>   The formatting arguments.</li>
</ul>
<h1 id="post-conditions">Post-Conditions<a class="headerlink" href="#post-conditions" title="Permanent link">&para;</a></h1>
<ul>
<li>All threads other than main thread will exit on a BSP call, unless the BSP process is restarted.</li>
<li>If main thread, a BSPAbort exception will be thrown.</li>
</ul>
<h1 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">&para;</a></h1>
<h3 id="1_classic">(1) Classic<a class="headerlink" href="#1_classic" title="Permanent link">&para;</a></h3>
<pre><code class="cpp">void main( int32_t, const char ** )
{
    bool success = BSPLib::Execute( []
    {
        if ( BSPLib::Classic::ProcId() == 0 )
        {
            // Prints &quot;Quit non gracefully&quot;
            BSPLib::Classic::Abort( &quot;Quit non gracefully&quot; );

            // Will never be reached
            while( true );
        }

        BSPLib::Classic::Sync();

    }, BSPLib::Classic::NProcs() );

    assert( !success );
}
</code></pre>

<h3 id="2_bsp">(2) BSP<a class="headerlink" href="#2_bsp" title="Permanent link">&para;</a></h3>
<pre><code class="cpp">void main( int32_t, const char ** )
{
    bool success = BSPLib::Execute( []
    {
        if ( bsp_pid() == 0 )
        {
            // Prints &quot;Quit non gracefully&quot;
            bsp_abort( &quot;Quit non gracefully&quot; );

            // Will never be reached
            while( true );
        }

        bsp_sync();

    }, bsp_nprocs() );

    assert( !success );
}
</code></pre></div>
        </div>

        <footer class="col-md-12">
            <hr>
            
                <center>Copyright Â© 2016 Mick van Duijn, Koen Visscher and Paul Visscher</center>
            
            <center>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</center>
        </footer>

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script>var base_url = '../..';</script>
        <script data-main="../../mkdocs/js/search.js" src="../../mkdocs/js/require.js"></script>
        <script src="../../js/base.js"></script>
        <script src="../../style/mathjax-loader.js"></script>
        <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>